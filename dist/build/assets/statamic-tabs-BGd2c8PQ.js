const ne=window.Vue,{BaseTransition:Te,BaseTransitionPropsValidators:we,Comment:Ie,DeprecationTypes:xe,EffectScope:Ee,ErrorCodes:Re,ErrorTypeStrings:ke,Fragment:N,KeepAlive:Pe,ReactiveEffect:Me,Static:Le,Suspense:_e,Teleport:Fe,Text:Ae,TrackOpTypes:He,Transition:De,TransitionGroup:Be,TriggerOpTypes:$e,VueElement:qe,__esModule:Ve,assertNumber:Ne,callWithAsyncErrorHandling:Oe,callWithErrorHandling:ze,camelize:Ge,capitalize:Ue,cloneVNode:je,compatUtils:Ke,compile:We,computed:Qe,createApp:Je,createBlock:L,createCommentVNode:$,createElementBlock:I,createElementVNode:h,createHydrationRenderer:Xe,createPropsRestProxy:Ye,createRenderer:Ze,createSSRApp:et,createSlots:tt,createStaticVNode:nt,createTextVNode:ie,createVNode:O,customRef:it,defineAsyncComponent:ot,defineComponent:st,defineCustomElement:at,defineEmits:rt,defineExpose:lt,defineModel:dt,defineOptions:ct,defineProps:ut,defineSSRCustomElement:pt,defineSlots:ft,devtools:mt,effect:bt,effectScope:vt,getCurrentInstance:oe,getCurrentScope:gt,getCurrentWatcher:ht,getTransitionRawChildren:yt,guardReactiveProps:St,h:se,handleError:Ct,hasInjectionContext:Tt,hydrate:wt,hydrateOnIdle:It,hydrateOnInteraction:xt,hydrateOnMediaQuery:Et,hydrateOnVisible:Rt,initCustomFormatter:kt,initDirectivesForSSR:Pt,inject:Mt,isMemoSame:Lt,isProxy:_t,isReactive:Ft,isReadonly:At,isRef:Ht,isRuntimeOnly:Dt,isShallow:Bt,isVNode:$t,markRaw:qt,mergeDefaults:Vt,mergeModels:Nt,mergeProps:Ot,nextTick:ae,nodeOps:zt,normalizeClass:re,normalizeProps:Gt,normalizeStyle:Ut,onActivated:jt,onBeforeMount:Kt,onBeforeUnmount:le,onBeforeUpdate:Wt,onDeactivated:Qt,onErrorCaptured:Jt,onMounted:de,onRenderTracked:Xt,onRenderTriggered:Yt,onScopeDispose:Zt,onServerPrefetch:en,onUnmounted:tn,onUpdated:nn,onWatcherCleanup:on,openBlock:f,patchProp:sn,popScopeId:an,provide:rn,proxyRefs:ln,pushScopeId:dn,queuePostFlushCb:cn,reactive:z,readonly:un,ref:T,registerRuntimeCompiler:pn,render:fn,renderList:G,renderSlot:mn,resolveComponent:bn,resolveDirective:vn,resolveDynamicComponent:gn,resolveFilter:hn,resolveTransitionHooks:yn,setBlockTracking:Sn,setDevtoolsHook:Cn,setTransitionHooks:Tn,shallowReactive:wn,shallowReadonly:In,shallowRef:xn,ssrContextKey:En,ssrUtils:Rn,stop:kn,toDisplayString:ce,toHandlerKey:Pn,toHandlers:Mn,toRaw:Ln,toRef:_n,toRefs:Fn,toValue:An,transformVNodeArgs:Hn,triggerRef:Dn,unref:x,useAttrs:Bn,useCssModule:$n,useCssVars:qn,useHost:Vn,useId:Nn,useModel:On,useSSRContext:zn,useShadowRoot:Gn,useSlots:Un,useTemplateRef:jn,useTransitionState:Kn,vModelCheckbox:Wn,vModelDynamic:Qn,vModelRadio:Jn,vModelSelect:Xn,vModelText:Yn,vShow:Zn,version:ei,warn:ti,watch:ni,watchEffect:ii,watchPostEffect:oi,watchSyncEffect:si,withAsyncContext:ai,withCtx:_,withDefaults:ri,withDirectives:li,withKeys:di,withMemo:ci,withModifiers:ui,withScopeId:pi}=ne,{Fieldtype:fi,IndexFieldtype:mi,FieldtypeMixin:ue,HasActionsMixin:bi,HasInputOptionsMixin:vi,HasPreferencesMixin:gi,IndexFieldtypeMixin:hi,InlineEditForm:yi,DateFormatter:Si,ItemActions:Ci,RelatedItem:Ti,RestoreRevision:wi,RevisionHistory:Ii,RevisionPreview:xi,SaveButtonOptions:Ei,SortableList:Ri,requireElevatedSession:ki,requireElevatedSessionIf:Pi,clone:Mi,deepClone:Li,resetValuesFromResponse:_i}=__STATAMIC__.core,{bard:Fi,callbacks:Ai,commandPalette:Hi,components:Di,conditions:Bi,config:$i,contrast:qi,dateFormatter:Vi,dirty:Ni,echo:Oi,events:a,fieldActions:zi,hooks:Gi,inertia:Ui,keys:ji,permissions:Ki,portals:Wi,preferences:Qi,progress:Ji,reveal:Xi,slug:Yi,stacks:Zi,colorMode:eo,toast:to}=__STATAMIC__.api,{AuthCard:no,Avatar:io,Badge:oo,Button:so,ButtonGroup:ao,Calendar:ro,Card:lo,CardList:co,CardListItem:uo,CardPanel:po,CharacterCounter:fo,Checkbox:mo,CheckboxGroup:bo,CodeEditor:vo,Combobox:go,CommandPaletteItem:ho,ConfirmationModal:yo,Context:So,ContextFooter:Co,ContextHeader:To,ContextItem:wo,ContextLabel:Io,ContextMenu:xo,ContextSeparator:Eo,CreateForm:Ro,DatePicker:ko,DateRangePicker:Po,Description:Mo,DocsCallout:Lo,DragHandle:_o,Dropdown:Fo,DropdownItem:Ao,DropdownLabel:Ho,DropdownMenu:Do,DropdownSeparator:Bo,DropdownFooter:$o,DropdownHeader:qo,Editable:Vo,ErrorMessage:No,EmptyStateItem:Oo,EmptyStateMenu:zo,Field:Go,Header:Uo,Heading:jo,HoverCard:Ko,Icon:pe,Input:Wo,InputGroup:Qo,InputGroupAppend:Jo,InputGroupPrepend:Xo,Label:Yo,Listing:Zo,ListingCustomizeColumns:es,ListingFilters:ts,ListingHeaderCell:ns,ListingPagination:is,ListingPresets:os,ListingPresetTrigger:ss,ListingRowActions:as,ListingSearch:rs,ListingTable:ls,ListingTableBody:ds,ListingTableHead:cs,ListingToggleAll:us,LivePreview:ps,LivePreviewPopout:fs,Modal:ms,ModalClose:bs,ModalTitle:vs,Pagination:gs,Panel:hs,PanelFooter:ys,PanelHeader:Ss,Popover:Cs,PublishComponents:Ts,PublishContainer:ws,publishContextKey:Is,injectPublishContext:xs,PublishField:Es,PublishFields:Rs,PublishFieldsProvider:ks,PublishForm:Ps,PublishLocalizations:Ms,PublishSections:Ls,PublishTabs:_s,Radio:Fs,RadioGroup:As,Select:Hs,Separator:Ds,Slider:Bs,Skeleton:$s,SplitterGroup:qs,SplitterPanel:Vs,SplitterResizeHandle:Ns,StatusIndicator:Os,Subheading:zs,Switch:Gs,TabContent:fe,Stack:Us,StackClose:js,StackHeader:Ks,StackFooter:Ws,StackContent:Qs,Table:Js,TableCell:Xs,TableColumn:Ys,TableColumns:Zs,TableRow:ea,TableRows:ta,TabList:me,TabProvider:na,Tabs:be,TabTrigger:ve,Textarea:ia,TimePicker:oa,ToggleGroup:sa,ToggleItem:aa,Widget:ra,registerIconSet:la,registerIconSetFromStrings:da}=__STATAMIC__.ui,ge={key:0,class:""},he={class:"flex items-center gap-2"},ye={key:1,class:"absolute inset-0 z-10 flex items-center justify-center bg-white/75 dark:bg-black/75 backdrop-blur-[2px] rounded transition-all duration-200"},Se=Object.assign({mixins:[ue]},{__name:"TabFieldtype",setup(Ce){const U=(e,{attrs:n})=>se("iconify-icon",{...e,...n}),{proxy:j}=oe(),b=T(null),l=T(!1),u=T(null),E=j.config,w=T(!1),r={push:e=>`tabs.push-${e}`,prependInstructions:e=>`tabs.prepend-instructions-${e}`,append:e=>`tabs.append-${e}`,release:e=>`tabs.release-${e}`,globalRestore:"tabs.force-restore-sibling-sets"},m=()=>b.value?b.value.closest(".form-group"):null,q=()=>b.value?b.value.closest(".bard-fieldtype"):null,R=e=>document.getElementById("tab-content-"+e),i=z({id:uniqid(),handle:E.handle,name:E.display,icon:E.tab_icon,iconify_icon:E.tab_iconify_icon,hidden:!1}),p=z([]),k=[],F=[],A=T(!1),v=T(null),y=(e,n)=>{const t=setTimeout(e,n);return F.push({id:t}),t},K=()=>{F.forEach(e=>clearTimeout(e.id)),F.length=0};let g=null;const W=()=>{l.value&&(a.$off(r.push(i.id)),a.$off(r.prependInstructions(i.id)),a.$off(r.append(i.id))),g&&(a.$off(g),g=null)},P=(e,n,t="append")=>{if(!e||!n)return;const o=document.createComment(`tab-placeholder:${e.id||e.className}`);e.parentNode&&(e.parentNode.insertBefore(o,e),k.push({element:e,placeholder:o}),t==="prepend"?n.prepend(e):n.appendChild(e))};let H=!1;const Q=()=>{const e=q();return e?(e.dataset.bardInstanceId||(e.dataset.bardInstanceId=uniqid()),e.dataset.bardInstanceId):null},D=(e=!0)=>{if(!H){H=!0;try{if(e){const t=Q();a.$emit(r.globalRestore,{originId:i.id,bardId:t})}l.value&&a.$emit(r.release(i.id)),k.length>0&&([...k].reverse().forEach(({element:t,placeholder:o})=>{o&&o.parentNode&&o.parentNode.replaceChild(t,o)}),k.length=0);const n=m();if(n){n.classList.remove("main-tab","super-invisible"),n.removeAttribute("data-uniqid"),n.style.outline="",n.title="";const t=n.querySelector("label");t&&t.classList.remove("super-invisible")}S&&(S.disconnect(),S=null),C&&(C.disconnect(),C=null),W(),p.length=0,l.value=!1,u.value=null}finally{H=!1}}},J=()=>{let e=m();if(!e)return!1;for(;e.previousElementSibling;){if(e.previousElementSibling.classList.contains("tab-fieldtype"))return!1;e=e.previousElementSibling}return!0},X=()=>{let e=m();if(!e)return null;for(;e.previousElementSibling;){if(e.previousElementSibling.classList.contains("main-tab"))return e.previousElementSibling;e=e.previousElementSibling}return null};let S=null,C=null;const B=()=>{if(!b.value)return;const e=m();if(e){if(l.value=J(),l.value)e.classList.add("main-tab"),e.dataset.uniqid=i.id,u.value=e,C||(C=new MutationObserver(()=>{l.value&&(!e.classList.contains("main-tab")||e.dataset.uniqid!==i.id)&&(e.classList.add("main-tab"),e.dataset.uniqid=i.id)}),C.observe(e,{attributes:!0,attributeFilter:["data-uniqid","class"]})),p.find(n=>n.id===i.id)||(p.push(i),w.value=i.id,a.$on(r.push(i.id),n=>{p.find(o=>o.id===n.id)||(p.push(n),w.value||(w.value=n.id))}));else{e.dataset.uniqid=i.id;const n=X();if(!n||!n.dataset.uniqid){y(B,100);return}u.value=n,a.$emit(r.push(u.value.dataset.uniqid),i),g&&a.$off(g),g=r.release(u.value.dataset.uniqid),a.$on(g,()=>D(!1))}y(Y,0)}},Y=()=>{const e=m();if(!e)return;const n=e.querySelector(".help-block");if(n)if(l.value){const t=R(p[0].id);t&&P(n,t,"prepend"),a.$on(r.prependInstructions(i.id),(o,s)=>{const d=R(s);d&&P(o,d,"prepend")})}else u.value&&a.$emit(r.prependInstructions(u.value.dataset.uniqid),n,i.id);y(Z,0)},Z=()=>{const e=m();if(!e)return;const n=e.closest(".contain-paint")||e.parentElement,t=[];let o=e;for(;o.nextElementSibling;){const s=o.nextElementSibling;if((s.closest(".contain-paint")||s.parentElement)!==n||s.classList.contains("tab-fieldtype")||s.hasAttribute("data-type")||s.classList.contains("bard-set"))break;t.push(s),o=s}l.value?(t.forEach(s=>{const d=R(p[0].id);if(d){const c=d.querySelector(".publish-fields");c&&P(s,c)}}),a.$on(r.append(i.id),(s,d)=>{ae(()=>{const c=R(d);if(c){const V=c.querySelector(".publish-fields");V&&P(s,V)}})})):u.value&&t.forEach(s=>{a.$emit(r.append(u.value.dataset.uniqid),s,i.id)}),y(ee,0)},ee=()=>{const e=m();if(!e)return;if(l.value){const t=e.querySelector("label");t&&t.classList.add("super-invisible")}l.value||e.classList.add("super-invisible");const n=window.getComputedStyle(e).display;i.hidden=n==="none",S||(S=new MutationObserver(t=>{t.forEach(o=>{if(o.type==="attributes"&&o.attributeName==="style"){const s=window.getComputedStyle(e).display;i.hidden=s==="none"}})}),S.observe(e,{attributes:!0,attributeFilter:["style"]}))};let M=null;const te=e=>{const n=typeof e=="object"?e.originId:e,t=typeof e=="object"?e.bardId:null;if(n!==i.id){const o=q();if(!o)return;const s=o.dataset.bardInstanceId;if(t&&t!==s)return;if(b.value&&l.value){const d=m();if(d){const c=d.parentElement;c&&(v.value=c,c.style.height=c.offsetHeight+"px",c.style.overflow="hidden",window.getComputedStyle(c).position==="static"&&(c.style.position="relative"),A.value=!0)}}D(!1),y(()=>{try{B()}catch(d){console.error("[TabFieldtype] Init failed during restore",d)}finally{y(()=>{A.value=!1,v.value&&(v.value.style.height="",v.value.style.overflow="",v.value.style.position="",v.value=null)},1e3)}},50)}};return de(()=>{B(),M=te,a.$on(r.globalRestore,M)}),le(()=>{console.log("onBeforeUnmount"),K(),D(),M&&a.$off(r.globalRestore,M)}),(e,n)=>(f(),I("div",{ref_key:"rootEl",ref:b},[l.value?(f(),I("div",ge,[O(x(be),{modelValue:w.value,"onUpdate:modelValue":n[0]||(n[0]=t=>w.value=t),"unmount-on-hide":!1},{default:_(()=>[O(x(me),null,{default:_(()=>[(f(!0),I(N,null,G(p,t=>(f(),L(x(ve),{key:t.id,name:t.id,class:re({hidden:t.hidden})},{default:_(()=>[h("div",he,[t.iconify_icon?(f(),L(U,{key:0,icon:t.iconify_icon,class:"size-4 shrink-0"},null,8,["icon"])):t.icon?(f(),L(x(pe),{key:1,name:t.icon},null,8,["name"])):$("",!0),h("span",null,ce(e.__(t.name)),1)])]),_:2},1032,["name","class"]))),128))]),_:1}),(f(!0),I(N,null,G(p,t=>(f(),L(x(fe),{key:t.id,class:"tabpanel pt-4",id:"tab-content-"+t.id,name:t.id},{default:_(()=>[...n[1]||(n[1]=[h("div",{class:"publish-fields @container w-full"},null,-1)])]),_:1},8,["id","name"]))),128))]),_:1},8,["modelValue"])])):$("",!0),l.value&&v.value&&A.value?(f(),I("div",ye,[...n[2]||(n[2]=[h("div",{class:"bg-white dark:bg-black px-3 py-1.5 rounded shadow-sm border border-gray-200 text-xs font-medium text-gray-600 dark:text-white flex items-center gap-2"},[h("svg",{class:"animate-spin h-3 w-3 text-gray-500 dark:text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[h("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),h("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]),ie(" Re-initializing tabs... ")],-1)])])):$("",!0)],512))}});Statamic.booting(()=>{Statamic.$components.register("tab-fieldtype",Se)});
