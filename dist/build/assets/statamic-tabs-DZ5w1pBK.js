const ne=window.Vue,{BaseTransition:Ce,BaseTransitionPropsValidators:Te,Comment:we,DeprecationTypes:Ie,EffectScope:xe,ErrorCodes:Ee,ErrorTypeStrings:Re,Fragment:N,KeepAlive:ke,ReactiveEffect:Pe,Static:Me,Suspense:Le,Teleport:_e,Text:Fe,TrackOpTypes:Ae,Transition:He,TransitionGroup:De,TriggerOpTypes:Be,VueElement:$e,__esModule:qe,assertNumber:Ve,callWithAsyncErrorHandling:Ne,callWithErrorHandling:Oe,camelize:ze,capitalize:Ge,cloneVNode:je,compatUtils:Ue,compile:Ke,computed:We,createApp:Qe,createBlock:L,createCommentVNode:$,createElementBlock:I,createElementVNode:h,createHydrationRenderer:Je,createPropsRestProxy:Xe,createRenderer:Ye,createSSRApp:Ze,createSlots:et,createStaticVNode:tt,createTextVNode:ie,createVNode:O,customRef:nt,defineAsyncComponent:it,defineComponent:ot,defineCustomElement:st,defineEmits:at,defineExpose:rt,defineModel:lt,defineOptions:dt,defineProps:ct,defineSSRCustomElement:ut,defineSlots:pt,devtools:ft,effect:mt,effectScope:bt,getCurrentInstance:oe,getCurrentScope:vt,getCurrentWatcher:gt,getTransitionRawChildren:ht,guardReactiveProps:yt,h:se,handleError:St,hasInjectionContext:Ct,hydrate:Tt,hydrateOnIdle:wt,hydrateOnInteraction:It,hydrateOnMediaQuery:xt,hydrateOnVisible:Et,initCustomFormatter:Rt,initDirectivesForSSR:kt,inject:Pt,isMemoSame:Mt,isProxy:Lt,isReactive:_t,isReadonly:Ft,isRef:At,isRuntimeOnly:Ht,isShallow:Dt,isVNode:Bt,markRaw:$t,mergeDefaults:qt,mergeModels:Vt,mergeProps:Nt,nextTick:ae,nodeOps:Ot,normalizeClass:zt,normalizeProps:Gt,normalizeStyle:jt,onActivated:Ut,onBeforeMount:Kt,onBeforeUnmount:re,onBeforeUpdate:Wt,onDeactivated:Qt,onErrorCaptured:Jt,onMounted:le,onRenderTracked:Xt,onRenderTriggered:Yt,onScopeDispose:Zt,onServerPrefetch:en,onUnmounted:tn,onUpdated:nn,onWatcherCleanup:on,openBlock:f,patchProp:sn,popScopeId:an,provide:rn,proxyRefs:ln,pushScopeId:dn,queuePostFlushCb:cn,reactive:z,readonly:un,ref:T,registerRuntimeCompiler:pn,render:fn,renderList:G,renderSlot:mn,resolveComponent:bn,resolveDirective:vn,resolveDynamicComponent:gn,resolveFilter:hn,resolveTransitionHooks:yn,setBlockTracking:Sn,setDevtoolsHook:Cn,setTransitionHooks:Tn,shallowReactive:wn,shallowReadonly:In,shallowRef:xn,ssrContextKey:En,ssrUtils:Rn,stop:kn,toDisplayString:de,toHandlerKey:Pn,toHandlers:Mn,toRaw:Ln,toRef:_n,toRefs:Fn,toValue:An,transformVNodeArgs:Hn,triggerRef:Dn,unref:x,useAttrs:Bn,useCssModule:$n,useCssVars:qn,useHost:Vn,useId:Nn,useModel:On,useSSRContext:zn,useShadowRoot:Gn,useSlots:jn,useTemplateRef:Un,useTransitionState:Kn,vModelCheckbox:Wn,vModelDynamic:Qn,vModelRadio:Jn,vModelSelect:Xn,vModelText:Yn,vShow:Zn,version:ei,warn:ti,watch:ni,watchEffect:ii,watchPostEffect:oi,watchSyncEffect:si,withAsyncContext:ai,withCtx:_,withDefaults:ri,withDirectives:li,withKeys:di,withMemo:ci,withModifiers:ui,withScopeId:pi}=ne,{Fieldtype:fi,IndexFieldtype:mi,FieldtypeMixin:ce,HasActionsMixin:bi,HasInputOptionsMixin:vi,HasPreferencesMixin:gi,IndexFieldtypeMixin:hi,InlineEditForm:yi,DateFormatter:Si,ItemActions:Ci,RelatedItem:Ti,RestoreRevision:wi,RevisionHistory:Ii,RevisionPreview:xi,SaveButtonOptions:Ei,SortableList:Ri,requireElevatedSession:ki,requireElevatedSessionIf:Pi,clone:Mi,deepClone:Li,resetValuesFromResponse:_i}=__STATAMIC__.core,{bard:Fi,callbacks:Ai,commandPalette:Hi,components:Di,conditions:Bi,config:$i,contrast:qi,dateFormatter:Vi,dirty:Ni,echo:Oi,events:a,fieldActions:zi,hooks:Gi,inertia:ji,keys:Ui,permissions:Ki,portals:Wi,preferences:Qi,progress:Ji,reveal:Xi,slug:Yi,stacks:Zi,colorMode:eo,toast:to}=__STATAMIC__.api,{AuthCard:no,Avatar:io,Badge:oo,Button:so,ButtonGroup:ao,Calendar:ro,Card:lo,CardList:co,CardListItem:uo,CardPanel:po,CharacterCounter:fo,Checkbox:mo,CheckboxGroup:bo,CodeEditor:vo,Combobox:go,CommandPaletteItem:ho,ConfirmationModal:yo,Context:So,ContextFooter:Co,ContextHeader:To,ContextItem:wo,ContextLabel:Io,ContextMenu:xo,ContextSeparator:Eo,CreateForm:Ro,DatePicker:ko,DateRangePicker:Po,Description:Mo,DocsCallout:Lo,DragHandle:_o,Dropdown:Fo,DropdownItem:Ao,DropdownLabel:Ho,DropdownMenu:Do,DropdownSeparator:Bo,DropdownFooter:$o,DropdownHeader:qo,Editable:Vo,ErrorMessage:No,EmptyStateItem:Oo,EmptyStateMenu:zo,Field:Go,Header:jo,Heading:Uo,HoverCard:Ko,Icon:ue,Input:Wo,InputGroup:Qo,InputGroupAppend:Jo,InputGroupPrepend:Xo,Label:Yo,Listing:Zo,ListingCustomizeColumns:es,ListingFilters:ts,ListingHeaderCell:ns,ListingPagination:is,ListingPresets:os,ListingPresetTrigger:ss,ListingRowActions:as,ListingSearch:rs,ListingTable:ls,ListingTableBody:ds,ListingTableHead:cs,ListingToggleAll:us,LivePreview:ps,LivePreviewPopout:fs,Modal:ms,ModalClose:bs,ModalTitle:vs,Pagination:gs,Panel:hs,PanelFooter:ys,PanelHeader:Ss,Popover:Cs,PublishComponents:Ts,PublishContainer:ws,publishContextKey:Is,injectPublishContext:xs,PublishField:Es,PublishFields:Rs,PublishFieldsProvider:ks,PublishForm:Ps,PublishLocalizations:Ms,PublishSections:Ls,PublishTabs:_s,Radio:Fs,RadioGroup:As,Select:Hs,Separator:Ds,Slider:Bs,Skeleton:$s,SplitterGroup:qs,SplitterPanel:Vs,SplitterResizeHandle:Ns,StatusIndicator:Os,Subheading:zs,Switch:Gs,TabContent:pe,Stack:js,StackClose:Us,StackHeader:Ks,StackFooter:Ws,StackContent:Qs,Table:Js,TableCell:Xs,TableColumn:Ys,TableColumns:Zs,TableRow:ea,TableRows:ta,TabList:fe,TabProvider:na,Tabs:me,TabTrigger:be,Textarea:ia,TimePicker:oa,ToggleGroup:sa,ToggleItem:aa,Widget:ra,registerIconSet:la,registerIconSetFromStrings:da}=__STATAMIC__.ui,ve={key:0,class:""},ge={class:"flex items-center gap-2"},he={key:1,class:"absolute inset-0 z-10 flex items-center justify-center bg-white/75 dark:bg-black/75 backdrop-blur-[2px] rounded transition-all duration-200"},ye=Object.assign({mixins:[ce]},{__name:"TabFieldtype",setup(Se){const j=(e,{attrs:t})=>se("iconify-icon",{...e,...t}),{proxy:U}=oe(),b=T(null),l=T(!1),u=T(null),E=U.config,w=T(!1),r={push:e=>`tabs.push-${e}`,prependInstructions:e=>`tabs.prepend-instructions-${e}`,append:e=>`tabs.append-${e}`,release:e=>`tabs.release-${e}`,globalRestore:"tabs.force-restore-sibling-sets"},m=()=>b.value?b.value.closest(".form-group"):null,q=()=>b.value?b.value.closest(".bard-fieldtype"):null,R=e=>document.getElementById("tab-content-"+e),i=z({id:uniqid(),handle:E.handle,name:E.display,icon:E.tab_icon,iconify_icon:E.tab_iconify_icon,hidden:!1}),p=z([]),k=[],F=[],A=T(!1),v=T(null),y=(e,t)=>{const n=setTimeout(e,t);return F.push({id:n}),n},K=()=>{F.forEach(e=>clearTimeout(e.id)),F.length=0};let g=null;const W=()=>{l.value&&(a.$off(r.push(i.id)),a.$off(r.prependInstructions(i.id)),a.$off(r.append(i.id))),g&&(a.$off(g),g=null)},P=(e,t,n="append")=>{if(!e||!t)return;const o=document.createComment(`tab-placeholder:${e.id||e.className}`);e.parentNode&&(e.parentNode.insertBefore(o,e),k.push({element:e,placeholder:o}),n==="prepend"?t.prepend(e):t.appendChild(e))};let H=!1;const Q=()=>{const e=q();return e?(e.dataset.bardInstanceId||(e.dataset.bardInstanceId=uniqid()),e.dataset.bardInstanceId):null},D=(e=!0)=>{if(!H){H=!0;try{if(e){const n=Q();a.$emit(r.globalRestore,{originId:i.id,bardId:n})}l.value&&a.$emit(r.release(i.id)),k.length>0&&([...k].reverse().forEach(({element:n,placeholder:o})=>{o&&o.parentNode&&o.parentNode.replaceChild(n,o)}),k.length=0);const t=m();if(t){t.classList.remove("main-tab","super-invisible"),t.removeAttribute("data-uniqid"),t.style.outline="",t.title="";const n=t.querySelector("label");n&&n.classList.remove("super-invisible")}S&&(S.disconnect(),S=null),C&&(C.disconnect(),C=null),W(),p.length=0,l.value=!1,u.value=null}finally{H=!1}}},J=()=>{let e=m();if(!e)return!1;for(;e.previousElementSibling;){if(e.previousElementSibling.classList.contains("tab-fieldtype"))return!1;e=e.previousElementSibling}return!0},X=()=>{let e=m();if(!e)return null;for(;e.previousElementSibling;){if(e.previousElementSibling.classList.contains("main-tab"))return e.previousElementSibling;e=e.previousElementSibling}return null};let S=null,C=null;const B=()=>{if(!b.value)return;const e=m();if(e){if(l.value=J(),l.value)e.classList.add("main-tab"),e.dataset.uniqid=i.id,u.value=e,C||(C=new MutationObserver(()=>{l.value&&(!e.classList.contains("main-tab")||e.dataset.uniqid!==i.id)&&(e.classList.add("main-tab"),e.dataset.uniqid=i.id)}),C.observe(e,{attributes:!0,attributeFilter:["data-uniqid","class"]})),p.find(t=>t.id===i.id)||(p.push(i),w.value=i.id,a.$on(r.push(i.id),t=>{p.find(o=>o.id===t.id)||(p.push(t),w.value||(w.value=t.id))}));else{e.dataset.uniqid=i.id;const t=X();if(!t||!t.dataset.uniqid){y(B,100);return}u.value=t,a.$emit(r.push(u.value.dataset.uniqid),i),g&&a.$off(g),g=r.release(u.value.dataset.uniqid),a.$on(g,()=>D(!1))}y(Y,0)}},Y=()=>{const e=m();if(!e)return;const t=e.querySelector(".help-block");if(t)if(l.value){const n=R(p[0].id);n&&P(t,n,"prepend"),a.$on(r.prependInstructions(i.id),(o,s)=>{const d=R(s);d&&P(o,d,"prepend")})}else u.value&&a.$emit(r.prependInstructions(u.value.dataset.uniqid),t,i.id);y(Z,0)},Z=()=>{const e=m();if(!e)return;const t=e.closest(".contain-paint")||e.parentElement,n=[];let o=e;for(;o.nextElementSibling;){const s=o.nextElementSibling;if((s.closest(".contain-paint")||s.parentElement)!==t||s.classList.contains("tab-fieldtype")||s.hasAttribute("data-type")||s.classList.contains("bard-set"))break;n.push(s),o=s}l.value?(n.forEach(s=>{const d=R(p[0].id);if(d){const c=d.querySelector(".publish-fields");c&&P(s,c)}}),a.$on(r.append(i.id),(s,d)=>{ae(()=>{const c=R(d);if(c){const V=c.querySelector(".publish-fields");V&&P(s,V)}})})):u.value&&n.forEach(s=>{a.$emit(r.append(u.value.dataset.uniqid),s,i.id)}),y(ee,0)},ee=()=>{const e=m();if(!e)return;if(l.value){const n=e.querySelector("label");n&&n.classList.add("super-invisible")}l.value||e.classList.add("super-invisible");const t=window.getComputedStyle(e).display;i.hidden=t==="none",S||(S=new MutationObserver(n=>{n.forEach(o=>{if(o.type==="attributes"&&o.attributeName==="style"){const s=window.getComputedStyle(e).display;i.hidden=s==="none"}})}),S.observe(e,{attributes:!0,attributeFilter:["style"]}))};let M=null;const te=e=>{const t=typeof e=="object"?e.originId:e,n=typeof e=="object"?e.bardId:null;if(t!==i.id){const o=q();if(!o)return;const s=o.dataset.bardInstanceId;if(n&&n!==s)return;if(b.value&&l.value){const d=m();if(d){const c=d.parentElement;c&&(v.value=c,c.style.height=c.offsetHeight+"px",c.style.overflow="hidden",window.getComputedStyle(c).position==="static"&&(c.style.position="relative"),A.value=!0)}}D(!1),y(()=>{try{B()}catch(d){console.error("[TabFieldtype] Init failed during restore",d)}finally{y(()=>{A.value=!1,v.value&&(v.value.style.height="",v.value.style.overflow="",v.value.style.position="",v.value=null)},1e3)}},50)}};return le(()=>{B(),M=te,a.$on(r.globalRestore,M)}),re(()=>{K(),D(),M&&a.$off(r.globalRestore,M)}),(e,t)=>(f(),I("div",{ref_key:"rootEl",ref:b},[l.value?(f(),I("div",ve,[O(x(me),{modelValue:w.value,"onUpdate:modelValue":t[0]||(t[0]=n=>w.value=n),"unmount-on-hide":!1},{default:_(()=>[O(x(fe),null,{default:_(()=>[(f(!0),I(N,null,G(p,n=>(f(),L(x(be),{key:n.id,name:n.id},{default:_(()=>[h("div",ge,[n.iconify_icon?(f(),L(j,{key:0,icon:n.iconify_icon,class:"size-4 shrink-0"},null,8,["icon"])):n.icon?(f(),L(x(ue),{key:1,name:n.icon},null,8,["name"])):$("",!0),h("span",null,de(e.__(n.name)),1)])]),_:2},1032,["name"]))),128))]),_:1}),(f(!0),I(N,null,G(p,n=>(f(),L(x(pe),{key:n.id,class:"tabpanel pt-4",id:"tab-content-"+n.id,name:n.id},{default:_(()=>[...t[1]||(t[1]=[h("div",{class:"publish-fields @container w-full"},null,-1)])]),_:1},8,["id","name"]))),128))]),_:1},8,["modelValue"])])):$("",!0),l.value&&v.value&&A.value?(f(),I("div",he,[...t[2]||(t[2]=[h("div",{class:"bg-white dark:bg-black px-3 py-1.5 rounded shadow-sm border border-gray-200 text-xs font-medium text-gray-600 dark:text-white flex items-center gap-2"},[h("svg",{class:"animate-spin h-3 w-3 text-gray-500 dark:text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[h("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),h("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]),ie(" Re-initializing tabs... ")],-1)])])):$("",!0)],512))}});Statamic.booting(()=>{Statamic.$components.register("tab-fieldtype",ye)});
