const{getCurrentInstance:F,useTemplateRef:I,ref:S,reactive:T,onMounted:k,nextTick:g,onBeforeUnmount:M,resolveComponent:B,createElementBlock:v,openBlock:r,createCommentVNode:_,createVNode:E,unref:b,withCtx:h,Fragment:x,renderList:L,createBlock:y,createElementVNode:C,toDisplayString:q}=window.Vue,{Fieldtype:U,IndexFieldtype:K,FieldtypeMixin:D,IndexFieldtypeMixin:W,DateFormatter:J,ItemActions:Q,requireElevatedSession:X,requireElevatedSessionIf:Y}=__STATAMIC__.core,{AuthCard:Z,Badge:ee,Button:te,ButtonGroup:ne,Calendar:ie,Card:le,CardList:oe,CardListItem:se,CardPanel:ae,CharacterCounter:re,Checkbox:ue,CheckboxGroup:de,CodeEditor:ce,Combobox:pe,Context:be,ContextFooter:me,ContextItem:fe,ContextLabel:ge,ContextMenu:ve,ContextSeparator:he,CreateForm:ye,DatePicker:Se,DateRangePicker:Ce,Description:Te,DragHandle:_e,Dropdown:Ee,DropdownItem:xe,DropdownLabel:Le,DropdownMenu:Pe,DropdownSeparator:$e,Editable:we,ErrorMessage:Fe,EmptyStateItem:Ie,EmptyStateMenu:ke,Field:Me,FieldsProvider:Be,Header:qe,Heading:De,Icon:A,Input:Ae,Label:Re,Listing:He,ListingCustomizeColumns:Ve,ListingFilters:Ge,ListingHeaderCell:Ne,ListingPagination:ze,ListingPresets:Oe,ListingPresetTrigger:je,ListingRowActions:Ue,ListingSearch:Ke,ListingTable:We,ListingTableBody:Je,ListingTableHead:Qe,ListingToggleAll:Xe,LivePreview:Ye,Modal:Ze,ModalClose:et,ModalTitle:tt,Pagination:nt,Panel:it,PanelFooter:lt,PanelHeader:ot,Popover:st,PublishComponents:at,PublishContainer:rt,publishContextKey:ut,injectPublishContext:dt,PublishField:ct,PublishFields:pt,PublishForm:bt,PublishLocalizations:mt,PublishSections:ft,PublishTabs:gt,Radio:vt,RadioGroup:ht,Select:yt,Separator:St,Slider:Ct,Skeleton:Tt,SplitterGroup:_t,SplitterPanel:Et,SplitterResizeHandle:xt,StatusIndicator:Lt,Subheading:Pt,Switch:$t,TabContent:R,Table:wt,TableCell:Ft,TableColumn:It,TableColumns:kt,TableRow:Mt,TableRows:Bt,TabList:H,TabProvider:qt,Tabs:V,TabTrigger:G,Textarea:Dt,TimePicker:At,ToggleGroup:Rt,ToggleItem:Ht,Tooltip:Vt,Widget:Gt}=__STATAMIC__.ui,N={key:0,class:""},z={class:"flex items-center gap-2"},O=Object.assign({mixins:[D]},{__name:"TabFieldtype",setup(j){const{proxy:l}=F(),o=I("rootEl"),s=S(!1),c=S(null),m=l.config,p=S(!1),i=T({id:uniqid(),handle:m.handle,name:m.display,icon:m.tab_icon,iconify_icon:m.tab_iconify_icon,hidden:!1}),u=T([]),P=()=>{let n=o.value.closest(".form-group");for(;n.previousElementSibling;){if(n.previousElementSibling.classList.contains("tab-fieldtype"))return!1;n=n.previousElementSibling}return!0},$=()=>{let n=o.value.closest(".form-group");for(;n.previousElementSibling;){if(n.previousElementSibling.classList.contains("main-tab"))return n.previousElementSibling;n=n.previousElementSibling}return null};let f=null;return k(()=>{if(s.value=P(),s.value){const e=o.value.closest(".form-group");e.classList.add("main-tab"),e.dataset.uniqid=i.id,c.value=e}else c.value=$();s.value?(u.push(i),p.value=i.id,l.$events.$on("tabs.push-"+i.id,e=>{u.push(e),p.value||(p.value=e.id)})):l.$events.$emit("tabs.push-"+c.value.dataset.uniqid,i),g(()=>{const e=o.value.closest(".form-group").querySelector(".help-block");e&&(s.value?(document.getElementById("tab-content-"+u[0].id).prepend(e),l.$events.$on("tabs.prepend-instructions-"+i.id,(t,d)=>{document.getElementById("tab-content-"+d).prepend(t)})):l.$events.$emit("tabs.prepend-instructions-"+c.value.dataset.uniqid,e,i.id))});let n=o.value.closest(".form-group");const a=[];for(;n.nextElementSibling&&!n.nextElementSibling.classList.contains("tab-fieldtype");)a.push(n.nextElementSibling),n=n.nextElementSibling;if(g(()=>{s.value?(a.forEach(e=>{document.getElementById("tab-content-"+u[0].id).querySelector(".publish-fields").appendChild(e)}),l.$events.$on("tabs.append-"+i.id,(e,t)=>{document.getElementById("tab-content-"+t).querySelector(".publish-fields").appendChild(e)})):a.forEach(e=>{l.$events.$emit("tabs.append-"+c.value.dataset.uniqid,e,i.id)})}),s.value){const e=o.value.closest(".form-group").querySelector("label");e&&e.classList.add("super-invisible")}s.value||o.value.closest(".form-group").classList.add("super-invisible"),g(()=>{const e=o.value.closest(".form-group"),t=window.getComputedStyle(e).display;i.hidden=t==="none"}),g(()=>{const e=o.value.closest(".form-group");f=new MutationObserver(t=>{t.forEach(d=>{if(d.type==="attributes"&&d.attributeName==="style"){const w=window.getComputedStyle(e).display;i.hidden=w==="none"}})}),f.observe(e,{attributes:!0,attributeFilter:["style"]})})}),M(()=>{f&&f.disconnect(),s.value&&(l.$events.$off&&l.$events.$off("tabs.push-"+i.id),l.$events.$off&&l.$events.$off("tabs.prepend-instructions-"+i.id),l.$events.$off&&l.$events.$off("tabs.append-"+i.id))}),(n,a)=>{const e=B("iconify-icon");return r(),v("div",{ref_key:"rootEl",ref:o},[s.value?(r(),v("div",N,[E(b(V),{modelValue:p.value,"onUpdate:modelValue":a[0]||(a[0]=t=>p.value=t),"unmount-on-hide":!1},{default:h(()=>[E(b(H),null,{default:h(()=>[(r(!0),v(x,null,L(u,(t,d)=>(r(),y(b(G),{key:t.id,name:t.id},{default:h(()=>[C("div",z,[t.iconify_icon?(r(),y(e,{key:0,icon:t.iconify_icon,class:"h-4 w-4 text-md"},null,8,["icon"])):t.icon?(r(),y(b(A),{key:1,name:t.icon},null,8,["name"])):_("",!0),C("span",null,q(n.__(t.name)),1)])]),_:2},1032,["name"]))),128))]),_:1}),(r(!0),v(x,null,L(u,(t,d)=>(r(),y(b(R),{key:t.id,class:"tabpanel pt-4",id:"tab-content-"+t.id,name:t.id},{default:h(()=>[...a[1]||(a[1]=[C("div",{class:"publish-fields @container w-full"},null,-1)])]),_:2},1032,["id","name"]))),128))]),_:1},8,["modelValue"])])):_("",!0)],512)}}});Statamic.booting(()=>{Statamic.$components.register("tab-fieldtype",O)});
